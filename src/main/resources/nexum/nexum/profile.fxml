<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>

<!--
  This is the main profile page.
  The root is a StackPane so the modal can appear on top.
-->
<StackPane fx:id="profileRoot" xmlns="http://javafx.com/javafx/17.0.12"
           xmlns:fx="http://javafx.com/fxml/1" fx:controller="nexum.nexum.ProfileController">
    <children>
        <VBox alignment="TOP_CENTER" prefHeight="681.0" prefWidth="880.0" spacing="20.0"
              style="-fx-background-color: #F4F6F7; -fx-padding: 30;">

            <!-- Page Title -->
            <Label style="-fx-font-size: 24px; -fx-font-weight: bold;" text="Profile"/>

            <!-- Profile Card -->
            <VBox alignment="TOP_CENTER" prefHeight="496.0" prefWidth="821.0" spacing="20.0"
                  style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 10; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 0);"
                  stylesheets="@styles/profile.css">

                <HBox alignment="CENTER" prefHeight="100.0" prefWidth="806.0" spacing="20.0">
                    <ImageView fitHeight="100.0" fitWidth="100.0" pickOnBounds="true" preserveRatio="true">
                        <image>
                            <Image url="@image/profile.png"/>
                        </image>
                    </ImageView>

                    <VBox alignment="CENTER_LEFT" spacing="5.0">
                        <Label style="-fx-font-size: 16px; -fx-font-weight: bold;" text="Christian Carl C. Cabalde"/>
                        <Label style="-fx-font-size: 14px; -fx-text-fill: #555555;" text="cccabalde50858@liceo.edu.ph"/>
                    </VBox>
                </HBox>

                <!-- Edit Profile Button -->
                <!-- I changed onAction to match the controller method -->
                <Button fx:id="editProfileButton" onAction="#showEditProfileModal" prefHeight="30.0" prefWidth="318.0"
                        styleClass="edit-profile-button" text="Edit Profile"/>

                <!-- Tabs -->
                <HBox alignment="CENTER" prefHeight="23.0" prefWidth="676.0" spacing="10.0">
                    <Button fx:id="postsBtn" onAction="#onPostsClick" styleClass="tab-button" text="Posts"/>
                    <Button fx:id="savedBtn" onAction="#onSavedClick" styleClass="tab-button" text="Saved"/>
                </HBox>

            </VBox>
        </VBox>
    </children>
</StackPane>